{% extends "base.html" %}

{% block content %}
<div class="container-fluid p-4">
  <h2 class="mb-4">Dashboard Overview</h2>
  <div class="row g-4">
    <!-- Hotels Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-hotel text-primary me-2"></i>
            <h5 class="card-title mb-0">Hotels</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Properties</span>
              <span class="stat-value">{{hotels_count}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Total Bookings</span>
              <span class="stat-value">{{hotels_bookings}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Revenue</span>
              <span class="stat-value">{{hotels_revenue}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Event Spaces Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-building text-success me-2"></i>
            <h5 class="card-title mb-0">Event Spaces</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Spaces</span>
              <span class="stat-value">{{event_spaces_count}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Total Bookings</span>
              <span class="stat-value">{{event_spaces_bookings}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Revenue</span>
              <span class="stat-value">{{event_spaces_revenue}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- AirBnBs Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-home text-info me-2"></i>
            <h5 class="card-title mb-0">AirBnBs</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Properties</span>
              <span class="stat-value">{{airbnbs_count}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Total Bookings</span>
              <span class="stat-value">{{airbnbs_bookings}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Revenue</span>
              <span class="stat-value">{{airbnbs_revenue}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Events Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-calendar-alt text-warning me-2"></i>
            <h5 class="card-title mb-0">Events</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Events</span>
              <span class="stat-value">{{events_count}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Total Bookings</span>
              <span class="stat-value">{{events_bookings}}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Revenue</span>
              <span class="stat-value">{{events_revenue}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    {% if request.user.is_superuser %}
    <!-- Customers Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-users text-danger me-2"></i>
            <h5 class="card-title mb-0">Customers</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Customers</span>
              <span class="stat-value">{{customers_count}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Service Providers Card -->
    <div class="col-md-6 col-lg-4 col-xl-3">
      <div class="card dashboard-card h-100 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <i class="fas fa-user-tie text-secondary me-2"></i>
            <h5 class="card-title mb-0">Service Providers</h5>
          </div>
          <hr/>
          <div class="stats-container">
            <div class="stat-item">
              <span class="stat-label">Total Providers</span>
              <span class="stat-value">{{service_providers_count}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</div>

<style>
.dashboard-card {
  transition: transform 0.2s, box-shadow 0.2s;
  border: none;
  border-radius: 10px;
}

.dashboard-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
}

.stats-container {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.stat-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stat-label {
  color: #6c757d;
  font-size: 0.9rem;
}

.stat-value {
  font-size: 1.1rem;
  font-weight: 600;
}

hr {
  margin: 0.5rem 0 1rem 0;
  opacity: 0.1;
}

.card-title {
  font-size: 1.2rem;
  font-weight: 600;
}
</style>
{% endblock %}